{% extends 'base.html.twig' %}
 
{% block title %}Liste des articles
{% endblock %}
{% block header %}
	<header class="bg-white shadow p-4">
		<h1 class="text-3xl font-bold text-center">Mon blog d‚Äôarticles</h1>
	</header>
{% endblock %}
{% block body %}
	<main class="max-w-2xl mx-auto py-8">
		<!-- Bouton pour cr√©er un nouvel article -->
		<div class="mb-6 text-center">
			<a href="{{ path('article_new') }}" 
			   class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition duration-200">
				‚ûï Cr√©er un nouvel article
			</a>
		</div>

		{% if articles is empty %}
			<section class="text-center text-gray-500">
				<p>Aucun article disponible.</p>
			</section>
		{% else %}
			<section aria-labelledby="articles-heading">
				<h2 id="articles-heading" class="text-xl font-semibold mb-4 sr-only">Liste des articles</h2>
 
				{% for article in articles %}
					<article class="bg-white shadow p-4 rounded-lg mb-4" aria-labelledby="title-{{ article.id }}">
						<header class="flex justify-between items-start mb-2">
							<h3 id="title-{{ article.id }}" class="text-xl font-bold flex-1">{{ article.title }}</h3>
							<div class="flex gap-2 ml-4">
								<a href="{{ path('article_edit', {'id': article.id}) }}" 
								   class="bg-blue-500 hover:bg-blue-700 text-white text-sm px-3 py-1 rounded transition duration-200"
								   title="Modifier cet article">
									‚úèÔ∏è Modifier
								</a>
								<form method="POST" action="{{ path('article_delete', {'id': article.id}) }}" class="inline">
									<button type="submit" 
											class="bg-red-500 hover:bg-red-700 text-white text-sm px-3 py-1 rounded transition duration-200"
											title="Supprimer cet article"
											onclick="return confirm('√ätes-vous s√ªr de vouloir supprimer cet article ?')">
										üóëÔ∏è Supprimer
									</button>
								</form>
							</div>
						</header>
						<p class="mt-2 text-gray-700">
							{{ article.content }}
						</p>
						<div class="mt-3 text-xs text-gray-500">
							ID: {{ article.id }}
						</div>
					</article>
				{% endfor %}
			</section>
		{% endif %}
	</main>
{% endblock %}
{% block footer %}
	<footer class="text-center text-sm text-gray-500 py-4">
		¬©
		{{ "now"|date("Y") }}
		Mon super blog en Symfony + Jakarta EE
	</footer>
{% endblock %}